{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/mycomatrix/mushroom%20frontend/src/context/AuthContext.tsx"],"sourcesContent":["import React, {\r\n  createContext,\r\n  useContext,\r\n  useState,\r\n  useEffect,\r\n  Component,\r\n  ReactNode,\r\n} from \"react\";\r\nimport axios from \"axios\";\r\nimport { AuthContextType, User } from \"../types\";\r\n\r\n// ðŸ”´ Error Boundary for Authentication\r\nclass ErrorBoundary extends Component<{ children: ReactNode }, { hasError: boolean; error: any }> {\r\n  constructor(props: { children: ReactNode }) {\r\n    super(props);\r\n    this.state = { hasError: false, error: null };\r\n  }\r\n\r\n  static getDerivedStateFromError(error: any) {\r\n    return { hasError: true, error };\r\n  }\r\n\r\n  componentDidCatch(error: any, errorInfo: any) {\r\n    console.error(\"Auth Error Boundary caught an error:\", error, errorInfo);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return (\r\n        <div className=\"alert alert-danger\">\r\n          <h3>Something went wrong with authentication.</h3>\r\n          <p>Please refresh the page or try again later.</p>\r\n          <button\r\n            className=\"btn btn-secondary\"\r\n            onClick={() => window.location.reload()}\r\n          >\r\n            Refresh Page\r\n          </button>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\n// ðŸ”‘ Create Context\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport const useAuth = (): AuthContextType => {\r\n  const context = useContext(AuthContext);\r\n  if (!context) {\r\n    throw new Error(\"useAuth must be used within an AuthProvider\");\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\r\n  const [user, setUser] = useState<User | null>(() => {\r\n    if (typeof window === 'undefined') return null;\r\n    const storedUser = localStorage.getItem('user');\r\n    return storedUser ? JSON.parse(storedUser) : null;\r\n  });\r\n  const [token, setToken] = useState<string | null>(() => {\r\n    if (typeof window === 'undefined') return null;\r\n    return localStorage.getItem('access_token') || null;\r\n  });\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [isAuthenticated, setIsAuthenticated] = useState<boolean>(() => {\r\n    if (typeof window === 'undefined') return false;\r\n    return !!localStorage.getItem('access_token');\r\n  });\r\n\r\n  // ðŸŸ¢ Load auth data from localStorage and validate token\r\n  useEffect(() => {\r\n    const validateToken = async () => {\r\n      const storedToken = localStorage.getItem(\"access_token\");\r\n      const storedUser = localStorage.getItem(\"user\");\r\n\r\n      if (!storedToken || !storedUser) {\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        // Verify token is still valid by making a simple API call\r\n        await axios.get('https://mycomatrix.in/api/profile/', {\r\n          headers: {\r\n            'Authorization': `Bearer ${storedToken}`\r\n          }\r\n        });\r\n\r\n        // Token is valid, set up auth state\r\n        setToken(storedToken);\r\n        setUser(JSON.parse(storedUser));\r\n        setIsAuthenticated(true);\r\n        axios.defaults.headers.common[\"Authorization\"] = `Bearer ${storedToken}`;\r\n      } catch (error) {\r\n        // Token is invalid, clear auth state\r\n        console.error('Token validation failed:', error);\r\n        localStorage.removeItem('access_token');\r\n        localStorage.removeItem('refresh_token');\r\n        localStorage.removeItem('user');\r\n        delete axios.defaults.headers.common[\"Authorization\"];\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    validateToken();\r\n  }, []);\r\n\r\n  // ðŸŸ¢ UPDATED Login function - Use /api/login/ endpoint\r\n  const login = async ({ email, password }) => {\r\n    console.log('ðŸ”‘ Starting login process...');\r\n\r\n    try {\r\n      // Clear old data\r\n      localStorage.removeItem(\"access_token\");\r\n      localStorage.removeItem(\"refresh_token\");\r\n      localStorage.removeItem(\"user\");\r\n\r\n      setToken(null);\r\n      setUser(null);\r\n      setIsAuthenticated(false);\r\n\r\n      delete axios.defaults.headers.common[\"Authorization\"];\r\n\r\n      // ðŸ”¥ Correct login API\r\n      const response = await axios.post(\r\n        \"https://mycomatrix.in/api/login/\",\r\n        {\r\n          email: email.trim(),\r\n          password: password,\r\n        },\r\n        {\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n        }\r\n      );\r\n\r\n      console.log(\"ðŸ” Login API data:\", response.data);\r\n\r\n      if (!response.data.success) {\r\n        return { success: false, message: response.data.message };\r\n      }\r\n\r\n      // ðŸ’¥ Correct user object from backend\r\n      const accessToken = response.data.access;\r\n      const refreshToken = response.data.refresh;\r\n      const userData = response.data.user;\r\n\r\n      if (!userData.role) {\r\n        console.warn(\"âš  User role missing in response!\");\r\n      }\r\n\r\n      // SAVE â†’ THIS was your missing part\r\n      localStorage.setItem(\"access_token\", accessToken);\r\n      localStorage.setItem(\"refresh_token\", refreshToken);\r\n      localStorage.setItem(\"user\", JSON.stringify(userData));\r\n\r\n      // UPDATE STATE\r\n      setToken(accessToken);\r\n      setUser(userData);\r\n      setIsAuthenticated(true);\r\n\r\n      // Add token to axios\r\n      axios.defaults.headers.common[\r\n        \"Authorization\"\r\n      ] = `Bearer ${accessToken}`;\r\n\r\n      console.log(\"âœ… Login success â€” role:\", userData.role);\r\n\r\n      return {\r\n        success: true,\r\n        message: response.data.message,\r\n        user: userData,\r\n      };\r\n    } catch (error) {\r\n      console.error(\"âŒ Login Error:\", error);\r\n      const msg =\r\n        error.response?.data?.message ||\r\n        error.response?.data?.error ||\r\n        error.message ||\r\n        \"Login failed\";\r\n\r\n      return { success: false, message: msg };\r\n    }\r\n  };\r\n\r\n\r\n  // ðŸ›’ Sync guest cart to database after login\r\n  const syncGuestCartToDatabase = async (accessToken) => {\r\n    console.log('ðŸ”„ Starting guest cart sync...');\r\n\r\n    const GUEST_CART_KEY = 'guest_cart';\r\n    const guestCartData = localStorage.getItem(GUEST_CART_KEY);\r\n\r\n    if (!guestCartData) {\r\n      console.log('â„¹ï¸ No guest cart found');\r\n      return { success: true, message: 'No items to sync' };\r\n    }\r\n\r\n    try {\r\n      const guestCart = JSON.parse(guestCartData);\r\n\r\n      if (!guestCart.items || guestCart.items.length === 0) {\r\n        console.log('â„¹ï¸ Guest cart is empty');\r\n        localStorage.removeItem(GUEST_CART_KEY); // Clean up empty cart\r\n        return { success: true, message: 'No items to sync' };\r\n      }\r\n\r\n      console.log(`ðŸ“¦ Found ${guestCart.items.length} items in guest cart:`, guestCart.items);\r\n\r\n      // Prepare items for sync\r\n      const itemsToSync = guestCart.items.map(item => ({\r\n        product_id: item.product?.id,\r\n        quantity: item.qty || 1\r\n      }));\r\n\r\n      console.log('ðŸš€ Syncing items to database:', itemsToSync);\r\n\r\n      // Send sync request\r\n      const response = await axios.post(\r\n        'https://mycomatrix.in/api/cart/sync-guest-cart/',\r\n        { items: itemsToSync },\r\n        {\r\n          headers: {\r\n            'Authorization': `Bearer ${accessToken}`,\r\n            'Content-Type': 'application/json'\r\n          }\r\n        }\r\n      );\r\n\r\n      if (response.status === 200) {\r\n        console.log('âœ… Guest cart synced successfully');\r\n        // Clear guest cart after successful sync\r\n        localStorage.removeItem(GUEST_CART_KEY);\r\n\r\n        // Dispatch custom event to notify CartContext\r\n        window.dispatchEvent(new CustomEvent('guestCartSynced', {\r\n          detail: { success: true, itemCount: itemsToSync.length }\r\n        }));\r\n\r\n        return {\r\n          success: true,\r\n          message: `${itemsToSync.length} items transferred to your cart!`,\r\n          itemCount: itemsToSync.length\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.error('âŒ Failed to sync guest cart:', error);\r\n      // Don't remove guest cart if sync failed\r\n      return {\r\n        success: false,\r\n        error: error.message || 'Failed to sync cart items'\r\n      };\r\n    }\r\n  };\r\n\r\n  // ðŸŸ¢ Logout function\r\n  const logout = () => {\r\n    // Clear all auth-related data\r\n    localStorage.removeItem(\"access_token\");\r\n    localStorage.removeItem(\"refresh_token\");\r\n    localStorage.removeItem(\"user\");\r\n\r\n    // Reset state\r\n    setUser(null);\r\n    setToken(null);\r\n    setIsAuthenticated(false);\r\n    setError(null);\r\n\r\n    // Clear axios headers\r\n    delete axios.defaults.headers.common[\"Authorization\"];\r\n\r\n    // Navigate to login and force a full page reload to clear any cached data\r\n    window.location.href = '/login';\r\n  };\r\n\r\n  // ðŸŸ¢ Auto logout on 401\r\n  useEffect(() => {\r\n    const interceptor = axios.interceptors.response.use(\r\n      (response) => response,\r\n      (error) => {\r\n        if (error.response?.status === 401) {\r\n          console.log('ðŸ›‘ 401 Unauthorized - Auto logging out');\r\n          logout();\r\n        }\r\n        return Promise.reject(error);\r\n      }\r\n    );\r\n\r\n    return () => {\r\n      axios.interceptors.response.eject(interceptor);\r\n    };\r\n  }, []);\r\n\r\n  // Update isAuthenticated whenever user or token changes\r\n  useEffect(() => {\r\n    const isAuth = !!(token && user);\r\n    if (isAuth !== isAuthenticated) {\r\n      setIsAuthenticated(isAuth);\r\n    }\r\n  }, [user, token, isAuthenticated]);\r\n\r\n  const value = {\r\n    user,\r\n    token,\r\n    login,\r\n    logout,\r\n    isAuthenticated,\r\n    loading,\r\n    error,\r\n  };\r\n\r\n  return (\r\n    <ErrorBoundary>\r\n      <AuthContext.Provider value={value}>{children}</AuthContext.Provider>\r\n    </ErrorBoundary>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 357, "column": 0}, "map": {"version":3,"sources":["file:///D:/mycomatrix/mushroom%20frontend/src/context/CartContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect, useCallback, ReactNode } from 'react';\r\nimport axios from 'axios';\r\nimport { CartContextType, CartItem, Product } from '../types';\r\n\r\nconst CartContext = createContext<CartContextType | undefined>(undefined);\r\n\r\nconst GUEST_CART_KEY = 'guest_cart';\r\n\r\nexport const useCart = (): CartContextType => {\r\n  const context = useContext(CartContext);\r\n  if (!context) {\r\n    throw new Error(\"useCart must be used within a CartProvider\");\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const CartProvider = ({ children }: { children: ReactNode }) => {\r\n  const [cart, setCart] = useState<{ items: CartItem[]; total_amount: number; id: number | null }>({ items: [], total_amount: 0, id: null });\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [isGuest, setIsGuest] = useState<boolean>(true);\r\n\r\n  // Check if user is authenticated\r\n  const checkAuthStatus = () => {\r\n    if (typeof window === 'undefined') return false;\r\n    const token = localStorage.getItem('access_token');\r\n    const user = localStorage.getItem('user');\r\n    return !!(token && user);\r\n  };\r\n\r\n  // Initialize cart from localStorage or API\r\n  useEffect(() => {\r\n    const isAuthenticated = checkAuthStatus();\r\n    setIsGuest(!isAuthenticated);\r\n\r\n    if (isAuthenticated) {\r\n      // User is authenticated - fetch cart from API\r\n      fetchCart();\r\n    } else {\r\n      // User is guest - load cart from localStorage\r\n      loadGuestCart();\r\n    }\r\n  }, []);\r\n\r\n  // Load guest cart from localStorage\r\n  const loadGuestCart = () => {\r\n    if (typeof window === 'undefined') {\r\n      setCart({ items: [], total_amount: 0, id: null });\r\n      return;\r\n    }\r\n    const guestCart = localStorage.getItem(GUEST_CART_KEY);\r\n    if (guestCart) {\r\n      try {\r\n        const parsedCart = JSON.parse(guestCart);\r\n        setCart(parsedCart);\r\n        console.log('ðŸ›’ Loaded guest cart:', parsedCart);\r\n      } catch (e) {\r\n        console.error('Error parsing guest cart:', e);\r\n        setCart({ items: [], total_amount: 0, id: null });\r\n      }\r\n    } else {\r\n      setCart({ items: [], total_amount: 0, id: null });\r\n    }\r\n  };\r\n\r\n  // Save guest cart to localStorage when it changes\r\n  useEffect(() => {\r\n    if (isGuest && cart) {\r\n      localStorage.setItem(GUEST_CART_KEY, JSON.stringify(cart));\r\n    }\r\n  }, [cart, isGuest]);\r\n\r\n  // Listen for guest cart sync completion\r\n  useEffect(() => {\r\n    const handleGuestCartSynced = (event) => {\r\n      console.log('ðŸ”„ Guest cart sync completed, refreshing cart...');\r\n      setIsGuest(false);\r\n      fetchCart(); // Refresh cart from server\r\n    };\r\n\r\n    window.addEventListener('guestCartSynced', handleGuestCartSynced);\r\n    return () => window.removeEventListener('guestCartSynced', handleGuestCartSynced);\r\n  }, []);\r\n\r\n  // Fetch cart from API - memoized to prevent infinite loops\r\n  const fetchCart = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const token = localStorage.getItem('access_token');\r\n\r\n      if (!token) {\r\n        setIsGuest(true);\r\n        loadGuestCart();\r\n        return;\r\n      }\r\n\r\n      const response = await axios.get('https://mycomatrix.in/api/cart/', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n        }\r\n      });\r\n\r\n      if (response.status === 200) {\r\n        // Transform API response to match expected structure\r\n        const apiCart = response.data;\r\n        const transformedCart = {\r\n          id: apiCart.id,\r\n          items: apiCart.items || [],\r\n          total_amount: parseFloat(apiCart.total_amount || 0),\r\n          status: apiCart.status,\r\n          payment_status: apiCart.payment_status\r\n        };\r\n\r\n        setCart(transformedCart);\r\n        setIsGuest(false);\r\n        console.log('âœ… Fetched cart from API:', transformedCart);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching cart:', error);\r\n      if (error.response?.status === 401) {\r\n        // Token is invalid, switch to guest mode\r\n        setIsGuest(true);\r\n        loadGuestCart();\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []); // No dependencies needed since we get fresh token from localStorage each time\r\n\r\n  const addToCart = async (product, quantity = 1) => {\r\n    console.log(`ðŸ›’ Adding to cart: ${product.name} (qty: ${quantity}), isGuest: ${isGuest}`);\r\n\r\n    // If user is guest, update local cart\r\n    if (isGuest) {\r\n      setCart(prevCart => {\r\n        const existingItem = prevCart.items.find(item => item.product.id === product.id);\r\n        let newItems = [];\r\n\r\n        if (existingItem) {\r\n          // Update quantity if item exists\r\n          newItems = prevCart.items.map(item =>\r\n            item.product.id === product.id\r\n              ? { ...item, qty: item.qty + quantity }\r\n              : item\r\n          );\r\n        } else {\r\n          // Add new item with structure matching API\r\n          newItems = [...prevCart.items, {\r\n            id: `guest_${product.id}_${Date.now()}`,\r\n            product: product,\r\n            qty: quantity,\r\n            price: parseFloat(product.price)\r\n          }];\r\n        }\r\n\r\n        // Calculate new total\r\n        const newTotal = newItems.reduce((sum, item) =>\r\n          sum + (Number(item.price || item.product.price) * item.qty), 0);\r\n\r\n        const newCart = {\r\n          items: newItems,\r\n          total_amount: newTotal,\r\n          id: null // guest cart doesn't have ID\r\n        };\r\n\r\n        console.log('ðŸ’¾ Updated guest cart:', newCart);\r\n        return newCart;\r\n      });\r\n      return { success: true };\r\n    }\r\n\r\n    // If user is logged in, call the API\r\n    try {\r\n      const token = localStorage.getItem('access_token');\r\n      const response = await axios.post(\r\n        'https://mycomatrix.in/api/cart/add/',\r\n        {\r\n          product_id: product.id,\r\n          quantity: quantity\r\n        },\r\n        {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n          }\r\n        }\r\n      );\r\n\r\n      if (response.status === 200) {\r\n        // Transform API response to match expected structure\r\n        const apiCart = response.data;\r\n        const transformedCart = {\r\n          id: apiCart.id,\r\n          items: apiCart.items || [],\r\n          total_amount: parseFloat(apiCart.total_amount || 0),\r\n          status: apiCart.status,\r\n          payment_status: apiCart.payment_status\r\n        };\r\n\r\n        setCart(transformedCart);\r\n        return { success: true };\r\n      }\r\n    } catch (error) {\r\n      console.error('Error adding to cart:', error);\r\n      return { success: false, error: error.message };\r\n    }\r\n    return { success: false };\r\n  };\r\n\r\n  // Sync guest cart to database (called from AuthContext)\r\n  const syncGuestCart = async () => {\r\n    console.log('ðŸ”„ Starting guest cart sync from CartContext...');\r\n\r\n    const guestCartData = localStorage.getItem(GUEST_CART_KEY);\r\n\r\n    if (!guestCartData) {\r\n      console.log('â„¹ï¸ No guest cart found');\r\n      return { success: true, message: 'No items to sync' };\r\n    }\r\n\r\n    try {\r\n      const guestCart = JSON.parse(guestCartData);\r\n\r\n      if (!guestCart.items || guestCart.items.length === 0) {\r\n        console.log('â„¹ï¸ Guest cart is empty');\r\n        localStorage.removeItem(GUEST_CART_KEY);\r\n        return { success: true, message: 'No items to sync' };\r\n      }\r\n\r\n      console.log(`ðŸ“¦ Found ${guestCart.items.length} items in guest cart`);\r\n\r\n      const token = localStorage.getItem('access_token');\r\n      if (!token) {\r\n        throw new Error('No auth token found');\r\n      }\r\n\r\n      // Prepare items for sync\r\n      const itemsToSync = guestCart.items.map(item => ({\r\n        product_id: item.product.id,\r\n        quantity: item.qty || 1\r\n      }));\r\n\r\n      console.log('ðŸš€ Syncing items to database:', itemsToSync);\r\n\r\n      // Send sync request\r\n      const response = await axios.post(\r\n        'https://mycomatrix.in/api/cart/sync-guest-cart/',\r\n        { items: itemsToSync },\r\n        {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          }\r\n        }\r\n      );\r\n\r\n      if (response.status === 200) {\r\n        console.log('âœ… Guest cart synced successfully');\r\n\r\n        // Clear guest cart after successful sync\r\n        localStorage.removeItem(GUEST_CART_KEY);\r\n\r\n        // Update cart state with synced data\r\n        const apiCart = response.data;\r\n        const transformedCart = {\r\n          id: apiCart.id,\r\n          items: apiCart.items || [],\r\n          total_amount: parseFloat(apiCart.total_amount || 0),\r\n          status: apiCart.status,\r\n          payment_status: apiCart.payment_status\r\n        };\r\n\r\n        setCart(transformedCart);\r\n        setIsGuest(false);\r\n\r\n        // Dispatch custom event to notify other components\r\n        window.dispatchEvent(new CustomEvent('guestCartSynced', {\r\n          detail: { success: true, itemCount: itemsToSync.length }\r\n        }));\r\n\r\n        return {\r\n          success: true,\r\n          message: `${itemsToSync.length} items transferred to your cart!`\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.error('âŒ Failed to sync guest cart:', error);\r\n      return {\r\n        success: false,\r\n        error: error.message || 'Failed to sync cart items'\r\n      };\r\n    }\r\n  };\r\n\r\n  const removeFromCart = async (itemId) => {\r\n    try {\r\n      const token = localStorage.getItem('access_token');\r\n\r\n      if (isGuest) {\r\n        // Handle guest cart removal\r\n        setCart(prevCart => {\r\n          const newItems = prevCart.items.filter(item =>\r\n            item.product.id !== itemId && item.id !== itemId\r\n          );\r\n          const newTotal = newItems.reduce((sum, item) =>\r\n            sum + (Number(item.price || item.product.price) * item.qty), 0);\r\n\r\n          return { ...prevCart, items: newItems, total_amount: newTotal };\r\n        });\r\n        return;\r\n      }\r\n\r\n      await axios.delete(`https://mycomatrix.in/api/cart/remove/${itemId}/`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n        }\r\n      });\r\n\r\n      // Refresh cart after removal\r\n      await fetchCart();\r\n    } catch (error) {\r\n      console.error('Error removing from cart:', error);\r\n    }\r\n  };\r\n\r\n  const updateQuantity = async (itemId, newQuantity) => {\r\n    if (newQuantity < 1) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem('access_token');\r\n\r\n      if (isGuest) {\r\n        // Handle guest cart update\r\n        setCart(prevCart => {\r\n          const newItems = prevCart.items.map(item =>\r\n            (item.product.id === itemId || item.id === itemId)\r\n              ? { ...item, qty: newQuantity }\r\n              : item\r\n          );\r\n\r\n          const newTotal = newItems.reduce((sum, item) =>\r\n            sum + (Number(item.price || item.product.price) * item.qty), 0);\r\n\r\n          return { ...prevCart, items: newItems, total_amount: newTotal };\r\n        });\r\n        return;\r\n      }\r\n\r\n      await axios.post(\r\n        `https://mycomatrix.in/api/cart/update/${itemId}/`,\r\n        { quantity: newQuantity },\r\n        {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n          }\r\n        }\r\n      );\r\n\r\n      // Refresh cart after update\r\n      await fetchCart();\r\n    } catch (error) {\r\n      console.error('Error updating quantity:', error);\r\n    }\r\n  };\r\n\r\n  const clearCart = async () => {\r\n    try {\r\n      const token = localStorage.getItem('access_token');\r\n\r\n      if (isGuest) {\r\n        setCart({ items: [], total_amount: 0, id: null });\r\n        localStorage.removeItem(GUEST_CART_KEY);\r\n        return;\r\n      }\r\n\r\n      await axios.post('https://mycomatrix.in/api/cart/clear/', {}, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n        }\r\n      });\r\n\r\n      setCart({ items: [], total_amount: 0, id: null });\r\n    } catch (error) {\r\n      console.error('Error clearing cart:', error);\r\n    }\r\n  };\r\n\r\n  // Listen for authentication changes - optimized\r\n  useEffect(() => {\r\n    let checkInterval;\r\n\r\n    const handleStorageChange = () => {\r\n      const nowAuthenticated = checkAuthStatus();\r\n      const wasGuest = isGuest;\r\n\r\n      if (wasGuest && nowAuthenticated) {\r\n        console.log('ðŸ”„ User logged in, waiting for cart sync...');\r\n        setIsGuest(false);\r\n      } else if (!nowAuthenticated && !wasGuest) {\r\n        console.log('ðŸ‘‹ User logged out, switching to guest cart');\r\n        setIsGuest(true);\r\n        loadGuestCart();\r\n      }\r\n    };\r\n\r\n    // Listen for localStorage changes\r\n    window.addEventListener('storage', handleStorageChange);\r\n\r\n    // Reduced frequency check - only every 2 seconds instead of 1 second\r\n    checkInterval = setInterval(() => {\r\n      const nowAuthenticated = checkAuthStatus();\r\n      if (isGuest === nowAuthenticated) { // Only update if there's an actual change\r\n        handleStorageChange();\r\n      }\r\n    }, 2000);\r\n\r\n    return () => {\r\n      window.removeEventListener('storage', handleStorageChange);\r\n      if (checkInterval) clearInterval(checkInterval);\r\n    };\r\n  }, [isGuest]); // Only depend on isGuest\r\n\r\n  // Utility functions - memoized to prevent infinite re-renders\r\n  const getTotalItems = useCallback(() => {\r\n    if (!cart || !cart.items) return 0;\r\n    return cart.items.reduce((total, item) => total + (item.qty || 0), 0);\r\n  }, [cart]);\r\n\r\n  const getTotalPrice = useCallback(() => {\r\n    if (!cart) return 0;\r\n    return cart.total_amount || cart.items.reduce((sum, item) =>\r\n      sum + (Number(item.price || item.product.price) * (item.qty || 0)), 0);\r\n  }, [cart]);\r\n\r\n  return (\r\n    <CartContext.Provider value={{\r\n      cart,\r\n      loading,\r\n      isGuest,\r\n      isAuthenticated: !isGuest,\r\n      addToCart,\r\n      removeFromCart,\r\n      updateQuantity,\r\n      clearCart,\r\n      fetchCart,\r\n      syncGuestCart, // Add this for AuthContext to use\r\n      getTotalItems,\r\n      getTotalPrice\r\n    }}>\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 838, "column": 0}, "map": {"version":3,"sources":["file:///D:/mycomatrix/mushroom%20frontend/src/components/Header.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport { Navbar as BSNavbar, Nav, Container, Row, Col, Dropdown } from 'react-bootstrap';\r\nimport { ShoppingCart, Home, Package, Info, Phone, User, LogOut, LayoutDashboard } from 'lucide-react';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { useCart } from '../context/CartContext';\r\nimport \"./styles/header.css\";\r\n\r\nconst Header = () => {\r\n  const { isAuthenticated, user, logout } = useAuth();\r\n  const { getTotalItems } = useCart();\r\n  const [showMobileAuth, setShowMobileAuth] = useState(false);\r\n  const pathname = usePathname();\r\n\r\n  const cartItemsCount = getTotalItems();\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    setShowMobileAuth(false);\r\n  };\r\n\r\n  const getUserInitial = () => {\r\n    if (user?.name) {\r\n      return user.name.charAt(0).toUpperCase();\r\n    } else if (user?.email) {\r\n      return user.email.charAt(0).toUpperCase();\r\n    }\r\n    return 'U';\r\n  };\r\n\r\n  const navLinks = [\r\n    { path: '/', label: 'Home' },\r\n    { path: '/products', label: 'Products' },\r\n    { path: '/about', label: 'About Us' },\r\n    { path: '/contact', label: 'Contact Us' }\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      {/* Top Bar */}\r\n      <div className=\"top-bar text-white py-2 small\">\r\n        <Container>\r\n          <Row className=\"align-items-center\">\r\n            <Col md={3} className=\"d-none d-md-block\">\r\n              <div className=\"d-flex align-items-center top-text\">\r\n                <a href=\"https://www.instagram.com/myco_matrix_mushroom?utm_source=qr&igsh=YWE2cnNmd3NxNGhw\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-white me-3 text-decoration-none\">\r\n                  <i className=\"fab fa-instagram\"></i>\r\n                </a>\r\n                <a href=\"https://www.youtube.com/@mycomatrix\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-white me-3 text-decoration-none\">\r\n                  <i className=\"fab fa-youtube\"></i>\r\n                </a>\r\n              </div>\r\n            </Col>\r\n            <Col md={6} className=\"text-center\">\r\n              <span className=\"d-none d-md-inline top-text\">Welcome to Myco Matrix</span>\r\n            </Col>\r\n            <Col md={3} className=\"text-end d-none d-md-block\">\r\n              <a href=\"mailto:mycomatrix1@gmail.com\" className=\"text-white text-decoration-none\">\r\n                <i className=\"fas fa-envelope me-1\"></i>\r\n                <span className=\"top-text\">mycomatrix1@gmail.com</span>\r\n              </a>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n\r\n      {/* Main Navbar */}\r\n      <BSNavbar bg=\"white\" expand=\"lg\" className=\"sticky-top main-navbar\">\r\n        <Container>\r\n          {/* Logo */}\r\n          <BSNavbar.Brand className=\"logo-brand\">\r\n            <Link href=\"/\">\r\n              <img\r\n                src=\"/assets/logo.png\"\r\n                alt=\"MYCO MATRIX\"\r\n                className=\"img-fluid logo-image\"\r\n              />\r\n            </Link>\r\n          </BSNavbar.Brand>\r\n\r\n          {/* Desktop Navigation - Center */}\r\n          <div className=\"d-none d-lg-flex align-items-center w-100 justify-content-between\">\r\n            <Nav className=\"ms-auto fw-semibold main-nav\">\r\n              {navLinks.map((link) => {\r\n                const isActive =\r\n                  pathname === link.path ||\r\n                  (link.path !== '/' && pathname?.startsWith(link.path));\r\n                return (\r\n                  <Nav.Link\r\n                    key={link.path}\r\n                    as={Link}\r\n                    href={link.path}\r\n                    className={`nav-link-item ${isActive ? 'active-nav-link' : ''}`}\r\n                  >\r\n                    {link.label}\r\n                  </Nav.Link>\r\n                );\r\n              })}\r\n            </Nav>\r\n\r\n            {/* Desktop Right Side Icons */}\r\n            <div className=\"d-flex align-items-center gap-4 desktop-icons\">\r\n              <Link href=\"/cart\" className=\"position-relative text-dark cart-icon\" style={{ textDecoration: 'none' }}>\r\n                <ShoppingCart size={22} />\r\n                {cartItemsCount > 0 && (\r\n                  <span className=\"badges\">\r\n                    {Math.min(cartItemsCount, 99)}\r\n                    {cartItemsCount > 99 && '+'}\r\n                  </span>\r\n                )}\r\n              </Link>\r\n\r\n              {isAuthenticated ? (\r\n                <Dropdown align=\"end\" className=\"d-flex align-items-center\">\r\n                  <Dropdown.Toggle\r\n                    variant=\"light\"\r\n                    id=\"user-dropdown\"\r\n                    className=\"border-0 bg-transparent d-flex align-items-center p-0 user-toggle\"\r\n                  >\r\n                    <div className=\"user-avatar\">\r\n                      <span className=\"user-initial\">{getUserInitial()}</span>\r\n                    </div>\r\n                  </Dropdown.Toggle>\r\n\r\n                  <Dropdown.Menu className=\"user-dropdown-menu\">\r\n                    <Dropdown.Item as={Link} href=\"/user-dashboard\" className=\"dropdown-item-custom\">\r\n                      <i className=\"fas fa-tachometer-alt me-2\"></i>\r\n                      Dashboard\r\n                    </Dropdown.Item>\r\n                    <Dropdown.Divider />\r\n                    <Dropdown.Item onClick={handleLogout} className=\"dropdown-item-custom text-danger\">\r\n                      <i className=\"fas fa-sign-out-alt me-2\"></i>\r\n                      Logout\r\n                    </Dropdown.Item>\r\n                  </Dropdown.Menu>\r\n                </Dropdown>\r\n              ) : (\r\n                <Link href=\"/login\" className=\"button text-decoration-none\">Login / Signup</Link>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Mobile: User Avatar or Login Button */}\r\n          <div className=\"d-lg-none\">\r\n            {isAuthenticated ? (\r\n              <Dropdown align=\"end\" className=\"d-flex align-items-center\">\r\n                <Dropdown.Toggle\r\n                  variant=\"light\"\r\n                  id=\"mobile-user-dropdown\"\r\n                  className=\"border-0 bg-transparent d-flex align-items-center p-0 user-toggle\"\r\n                >\r\n                  <div className=\"user-avatar\">\r\n                    <span className=\"user-initial\">{getUserInitial()}</span>\r\n                  </div>\r\n                </Dropdown.Toggle>\r\n\r\n                <Dropdown.Menu className=\"user-dropdown-menu\">\r\n                  <Dropdown.Item as={Link} href=\"/user-dashboard\" className=\"dropdown-item-custom\">\r\n                    <i className=\"fas fa-tachometer-alt me-2\"></i>\r\n                    Dashboard\r\n                  </Dropdown.Item>\r\n                  <Dropdown.Divider />\r\n                  <Dropdown.Item onClick={handleLogout} className=\"dropdown-item-custom text-danger\">\r\n                    <i className=\"fas fa-sign-out-alt me-2\"></i>\r\n                    Logout\r\n                  </Dropdown.Item>\r\n                </Dropdown.Menu>\r\n              </Dropdown>\r\n            ) : (\r\n              <Link href=\"/login\" className=\"button text-decoration-none\">Login / Signup</Link>\r\n            )}\r\n          </div>\r\n        </Container>\r\n      </BSNavbar>\r\n\r\n      {/* Mobile Bottom Navigation */}\r\n      <div className=\"mobile-bottom-nav d-lg-none\">\r\n        <Link\r\n          href=\"/\"\r\n          className={`nav-icon ${pathname === '/' ? 'active' : ''}`}\r\n          data-label=\"Home\"\r\n        >\r\n          <Home size={22} />\r\n        </Link>\r\n\r\n        <Link\r\n          href=\"/products\"\r\n          className={`nav-icon ${pathname?.startsWith('/products') ? 'active' : ''}`}\r\n          data-label=\"Products\"\r\n        >\r\n          <Package size={22} />\r\n        </Link>\r\n\r\n        <Link\r\n          href=\"/about\"\r\n          className={`nav-icon ${pathname === '/about' ? 'active' : ''}`}\r\n          data-label=\"About\"\r\n        >\r\n          <Info size={22} />\r\n        </Link>\r\n\r\n        <Link\r\n          href=\"/contact\"\r\n          className={`nav-icon ${pathname === '/contact' ? 'active' : ''}`}\r\n          data-label=\"Contact\"\r\n        >\r\n          <Phone size={22} />\r\n        </Link>\r\n\r\n        {/* Cart icon in the last position */}\r\n        <Link\r\n          href=\"/cart\"\r\n          className={`nav-icon ${pathname === '/cart' ? 'active' : ''}`}\r\n          data-label=\"Cart\"\r\n        >\r\n          <div className=\"position-relative\">\r\n            <ShoppingCart size={22} />\r\n            {cartItemsCount > 0 && (\r\n              <span className=\"mobile-cart-badge\">\r\n                {Math.min(cartItemsCount, 99)}\r\n                {cartItemsCount > 99 && '+'}\r\n              </span>\r\n            )}\r\n          </div>\r\n        </Link>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1463, "column": 0}, "map": {"version":3,"sources":["file:///D:/mycomatrix/mushroom%20frontend/src/components/Footer.tsx"],"sourcesContent":["\"use client\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport { FaYoutube, FaInstagram, FaPhoneAlt, FaEnvelope, FaMapMarkerAlt } from \"react-icons/fa\";\r\nimport Link from \"next/link\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"bg-white text-dark pt-5\">\r\n      <Container>\r\n        <Row>\r\n          {/* Column 1 */}\r\n          <Col md={3}>\r\n            <Link href=\"/\">\r\n              <img src=\"/assets/logo2.png\" alt=\"Mushroom Site\" className=\"img-fluid\" style={{ width: \"200px\", height: \"140px\", objectFit: \"contain\", margin: \"auto\" }} />\r\n            </Link>\r\n            <p className=\"mt-3\">\r\n              Powered by Mushroom, driving eCommerce growth through seamless IoT solutions.\r\n            </p>\r\n          </Col>\r\n\r\n          {/* Column 2 */}\r\n          <Col md={3} className=\"products\">\r\n            <h5 className=\"titles footer-text text-dark\">Our Product</h5>\r\n            <ul className=\"list-unstyled\" style={{ lineHeight: \"2\" }}>\r\n              <li><Link href=\"/products\" className=\"text-dark para text-decoration-none\">Organic Mushroom Kit</Link></li>\r\n              <li><Link href=\"/products\" className=\"text-dark para text-decoration-none\">Premium Spawns</Link></li>\r\n              <li><Link href=\"/products\" className=\"text-dark para text-decoration-none\">Grow Bags</Link></li>\r\n              <li><Link href=\"/products\" className=\"text-dark para text-decoration-none\">IoT Kit</Link></li>\r\n            </ul>\r\n          </Col>\r\n\r\n          {/* Column 3 */}\r\n          <Col md={3}>\r\n            <h5 className=\"titles footer-text text-dark\">Help</h5>\r\n            <ul className=\"list-unstyled\" style={{ lineHeight: \"2\" }}>\r\n              <li><Link href=\"/about\" className=\"text-dark para text-decoration-none\">About Us</Link></li>\r\n              <li><Link href=\"/contact\" className=\"text-dark para text-decoration-none\">Contact Us</Link></li>\r\n              <li><Link href=\"/terms-conditions\" className=\"text-dark para text-decoration-none\">Terms and Conditions</Link></li>\r\n              <li><Link href=\"/privacy-policy\" className=\"text-dark para text-decoration-none\">Privacy and Policy</Link></li>\r\n              <li><Link href=\"/shipping-policy\" className=\"text-dark para text-decoration-none\">Shipping Policy</Link></li>\r\n              <li><Link href=\"/refund-policy\" className=\"text-dark para text-decoration-none\">Refund Policy</Link></li>\r\n            </ul>\r\n          </Col>\r\n\r\n          {/* Column 4 */}\r\n          <Col md={3} className=\"footer-text\" style={{ lineHeight: \"2\" }}>\r\n            <h5 className=\"titles text-dark\">Contact</h5>\r\n            <p className=\"mb-1 d-flex align-items-center gap-2 para\" style={{ color: \"#212529\" }}>\r\n              <FaEnvelope size={16} color=\"rgb(50 51 50)\" />\r\n              mycomatrix1@gmail.com\r\n            </p>\r\n            <p className=\"mb-1 d-flex align-items-center gap-2 para\" style={{ color: \"#212529\" }}>\r\n              <FaPhoneAlt size={16} color=\"rgb(50 51 50)\" />\r\n              +91-9884248531\r\n            </p>\r\n            <p className=\"mb-3 d-flex align-items-start gap-2 para\" style={{ lineHeight: \"1.5\", color: \"#212529\" }}>\r\n              <FaMapMarkerAlt size={16} color=\"rgb(50 51 50)\" className=\"mt-1\" />\r\n              1/1/16 Ambalakar Street,<br />\r\n              Vadugapatti, <br />\r\n              Periyakulam - 625 603,<br />\r\n              Theni, Tamil Nadu\r\n            </p>\r\n          </Col>\r\n        </Row>\r\n\r\n        {/* Bottom Row - Copyright and Social Icons */}\r\n        <Row className=\"border-top mt-4 pt-4 pb-3 align-items-center\">\r\n          {/* Copyright Text - Left Side */}\r\n          <Col md={6} className=\"text-md-start text-center mb-3 mb-md-0\">\r\n            <p className=\"mb-0 text-muted\">\r\n              Copyright Â© {new Date().getFullYear()} Mycomatrix Pvt.Ltd | Powered by{' '}\r\n              <a href=\"https://xigi.in/\" className=\"color text-decoration-none\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n                Xigi Tech.Pvt.Ltd.\r\n              </a>\r\n            </p>\r\n          </Col>\r\n\r\n          {/* Social Icons - Right Side */}\r\n          <Col md={6} className=\"text-md-end text-center\">\r\n            <div className=\"d-inline-flex gap-3\">\r\n              <a\r\n                href=\"https://www.youtube.com/@mycomatrix\"\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"social-icon\"\r\n              >\r\n                <FaYoutube size={24} color=\"rgb(50 51 50)\" style={{\r\n                  border: \"1px solid #000\",\r\n                  borderRadius: \"5px\",\r\n                  padding: \"8px\",\r\n                  height: \"40px\",\r\n                  width: \"45px\",\r\n                  transition: \"all 0.3s ease\"\r\n                }}\r\n                  onMouseOver={(e) => {\r\n                    e.currentTarget.style.transform = \"translateY(-3px)\";\r\n                    e.currentTarget.style.boxShadow = \"0 4px 8px rgba(0,0,0,0.1)\";\r\n                  }}\r\n                  onMouseOut={(e) => {\r\n                    e.currentTarget.style.transform = \"translateY(0)\";\r\n                    e.currentTarget.style.boxShadow = \"none\";\r\n                  }} />\r\n              </a>\r\n              <a\r\n                href=\"https://www.instagram.com/myco_matrix_mushroom?utm_source=qr&igsh=YWE2cnNmd3NxNGhw\"\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"social-icon\"\r\n              >\r\n                <FaInstagram size={24} color=\"rgb(50 51 50)\" style={{\r\n                  border: \"1px solid #000\",\r\n                  borderRadius: \"5px\",\r\n                  padding: \"8px\",\r\n                  height: \"40px\",\r\n                  width: \"45px\",\r\n                  transition: \"all 0.3s ease\"\r\n                }}\r\n                  onMouseOver={(e) => {\r\n                    e.currentTarget.style.transform = \"translateY(-3px)\";\r\n                    e.currentTarget.style.boxShadow = \"0 4px 8px rgba(0,0,0,0.1)\";\r\n                  }}\r\n                  onMouseOut={(e) => {\r\n                    e.currentTarget.style.transform = \"translateY(0)\";\r\n                    e.currentTarget.style.boxShadow = \"none\";\r\n                  }} />\r\n              </a>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1992, "column": 0}, "map": {"version":3,"sources":["file:///D:/mycomatrix/mushroom%20frontend/src/components/WhatsAppButton.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from 'react';\r\nimport { FaWhatsapp } from 'react-icons/fa';\r\nimport { usePathname } from 'next/navigation';\r\n\r\nconst WhatsAppButton = () => {\r\n  const pathname = usePathname();\r\n  const [isMobileOrTab, setIsMobileOrTab] = useState(false);\r\n\r\n  const phoneNumber = '919884248531'; // Replace with your WhatsApp number\r\n  const message = 'Hello, I have a question about...';\r\n\r\n  const hideOnRoutes = [\"/login\", \"/register\"];\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setIsMobileOrTab(window.innerWidth <= 991);\r\n    };\r\n\r\n    handleResize(); // Initial check\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  if (hideOnRoutes.includes(pathname)) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"whatsapp-button\"\r\n      style={{\r\n        position: 'fixed',\r\n        bottom: isMobileOrTab ? '50px' : '20px',\r\n        right: '20px',\r\n        zIndex: 10000,\r\n      }}\r\n    >\r\n      <a\r\n        href={`https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`}\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n        className=\"btn btn-success chat-button rounded-circle p-3\"\r\n        style={{\r\n          boxShadow: '0 4px 8px rgba(0,0,0,0.2)',\r\n          transition: 'all 0.3s ease',\r\n        }}\r\n        onMouseOver={(e) => {\r\n          e.currentTarget.style.transform = 'scale(1.1)';\r\n          e.currentTarget.style.boxShadow = '0 6px 12px rgba(0,0,0,0.3)';\r\n        }}\r\n        onMouseOut={(e) => {\r\n          e.currentTarget.style.transform = 'scale(1)';\r\n          e.currentTarget.style.boxShadow = '0 4px 8px rgba(0,0,0,0.2)';\r\n        }}\r\n      >\r\n        <FaWhatsapp size={30} />\r\n      </a>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WhatsAppButton;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;;;AAHA;;;;AAKA,MAAM,iBAAiB;;IACrB,MAAM,WAAW,IAAA,oJAAW;IAC5B,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IAEnD,MAAM,cAAc,gBAAgB,oCAAoC;IACxE,MAAM,UAAU;IAEhB,MAAM,eAAe;QAAC;QAAU;KAAY;IAE5C,IAAA,0KAAS;oCAAC;YACR,MAAM;yDAAe;oBACnB,iBAAiB,OAAO,UAAU,IAAI;gBACxC;;YAEA,gBAAgB,gBAAgB;YAChC,OAAO,gBAAgB,CAAC,UAAU;YAClC;4CAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;;QACpD;mCAAG,EAAE;IAEL,IAAI,aAAa,QAAQ,CAAC,WAAW;QACnC,OAAO;IACT;IAEA,qBACE,6LAAC;QACC,WAAU;QACV,OAAO;YACL,UAAU;YACV,QAAQ,gBAAgB,SAAS;YACjC,OAAO;YACP,QAAQ;QACV;kBAEA,cAAA,6LAAC;YACC,MAAM,CAAC,cAAc,EAAE,YAAY,MAAM,EAAE,mBAAmB,UAAU;YACxE,QAAO;YACP,KAAI;YACJ,WAAU;YACV,OAAO;gBACL,WAAW;gBACX,YAAY;YACd;YACA,aAAa,CAAC;gBACZ,EAAE,aAAa,CAAC,KAAK,CAAC,SAAS,GAAG;gBAClC,EAAE,aAAa,CAAC,KAAK,CAAC,SAAS,GAAG;YACpC;YACA,YAAY,CAAC;gBACX,EAAE,aAAa,CAAC,KAAK,CAAC,SAAS,GAAG;gBAClC,EAAE,aAAa,CAAC,KAAK,CAAC,SAAS,GAAG;YACpC;sBAEA,cAAA,6LAAC,+JAAU;gBAAC,MAAM;;;;;;;;;;;;;;;;AAI1B;GAvDM;;QACa,oJAAW;;;KADxB;uCAyDS"}},
    {"offset": {"line": 2092, "column": 0}, "map": {"version":3,"sources":["file:///D:/mycomatrix/mushroom%20frontend/src/components/ScrollToTop.tsx"],"sourcesContent":["\"use client\";\r\n// src/components/ScrollToTop.js\r\nimport { useEffect } from \"react\";\r\nimport { usePathname } from \"next/navigation\";\r\n\r\nexport default function ScrollToTop() {\r\n  const pathname = usePathname();\r\n\r\n  useEffect(() => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: \"auto\",\r\n    });\r\n  }, [pathname]);\r\n\r\n  return null;\r\n}\r\n"],"names":[],"mappings":";;;;AACA,gCAAgC;AAChC;AACA;;AAHA;;;AAKe,SAAS;;IACtB,MAAM,WAAW,IAAA,oJAAW;IAE5B,IAAA,0KAAS;iCAAC;YACR,OAAO,QAAQ,CAAC;gBACd,KAAK;gBACL,UAAU;YACZ;QACF;gCAAG;QAAC;KAAS;IAEb,OAAO;AACT;GAXwB;;QACL,oJAAW;;;KADN"}},
    {"offset": {"line": 2133, "column": 0}, "map": {"version":3,"sources":["file:///D:/mycomatrix/mushroom%20frontend/src/app/layout.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { AuthProvider } from '../context/AuthContext';\r\nimport { CartProvider } from '../context/CartContext';\r\nimport '../index.css';\r\nimport '../App.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\nimport WhatsAppButton from '../components/WhatsAppButton';\r\nimport ScrollToTop from '../components/ScrollToTop';\r\nimport { usePathname } from 'next/navigation';\r\n\r\nexport default function RootLayout({ children }) {\r\n    const pathname = usePathname();\r\n\r\n    const isRegisterPage = pathname === '/register';\r\n    const isLoginPage = pathname === '/login';\r\n    const isForgotPasswordPage = pathname === '/forgot-password';\r\n    const isResetPasswordPage = pathname?.startsWith('/reset-password');\r\n    const isCheckoutPage = pathname === '/checkout';\r\n    const isAdminDashboardPage = pathname === '/admin-dashboard';\r\n    const isUserDashboardPage = pathname === '/user-dashboard';\r\n    const isIoTMonitoringPage = pathname === '/admin/iot-monitoring' || pathname === '/user/iot-monitoring' || pathname?.startsWith('/room/');\r\n    const isProductOrderPage = pathname === '/admin/product-order' || pathname === '/user/product-order';\r\n    const isAccountsPage = pathname === '/accounts';\r\n    const isSettingsPage = pathname === '/settings';\r\n    const isPaymentHistoryPage = pathname === '/payment-history';\r\n    const isProfilePage = pathname === '/profile';\r\n    const isUserPaymentsPage = pathname === '/user-payments';\r\n    const isRoomDetailPage = pathname?.startsWith('/room/') && !pathname?.startsWith('/room/add');\r\n    const isAddRoomPage = pathname === '/add-room' || pathname === '/room/add';\r\n\r\n    const hideFooter = isRegisterPage || isLoginPage || isForgotPasswordPage || isResetPasswordPage || isCheckoutPage || isAdminDashboardPage || isUserDashboardPage || isIoTMonitoringPage || isProductOrderPage || isAccountsPage || isSettingsPage || isPaymentHistoryPage || isProfilePage || isUserPaymentsPage || isRoomDetailPage || isAddRoomPage;\r\n    const hideHeader = isAdminDashboardPage || isUserDashboardPage || isIoTMonitoringPage || isProductOrderPage || isAccountsPage || isSettingsPage || isPaymentHistoryPage || isProfilePage || isUserPaymentsPage || isRoomDetailPage || isAddRoomPage;\r\n\r\n    return (\r\n        <html lang=\"en\">\r\n            <body>\r\n                <AuthProvider>\r\n                    <CartProvider>\r\n                        {!hideHeader && <Header />}\r\n                        <WhatsAppButton />\r\n                        <ScrollToTop />\r\n                        {children}\r\n                        {!hideFooter && <Footer />}\r\n                    </CartProvider>\r\n                </AuthProvider>\r\n            </body>\r\n        </html>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAIA;AACA;AACA;AACA;AACA;;;AAXA;;;;;;;;;;;AAae,SAAS,WAAW,EAAE,QAAQ,EAAE;;IAC3C,MAAM,WAAW,IAAA,oJAAW;IAE5B,MAAM,iBAAiB,aAAa;IACpC,MAAM,cAAc,aAAa;IACjC,MAAM,uBAAuB,aAAa;IAC1C,MAAM,sBAAsB,UAAU,WAAW;IACjD,MAAM,iBAAiB,aAAa;IACpC,MAAM,uBAAuB,aAAa;IAC1C,MAAM,sBAAsB,aAAa;IACzC,MAAM,sBAAsB,aAAa,2BAA2B,aAAa,0BAA0B,UAAU,WAAW;IAChI,MAAM,qBAAqB,aAAa,0BAA0B,aAAa;IAC/E,MAAM,iBAAiB,aAAa;IACpC,MAAM,iBAAiB,aAAa;IACpC,MAAM,uBAAuB,aAAa;IAC1C,MAAM,gBAAgB,aAAa;IACnC,MAAM,qBAAqB,aAAa;IACxC,MAAM,mBAAmB,UAAU,WAAW,aAAa,CAAC,UAAU,WAAW;IACjF,MAAM,gBAAgB,aAAa,eAAe,aAAa;IAE/D,MAAM,aAAa,kBAAkB,eAAe,wBAAwB,uBAAuB,kBAAkB,wBAAwB,uBAAuB,uBAAuB,sBAAsB,kBAAkB,kBAAkB,wBAAwB,iBAAiB,sBAAsB,oBAAoB;IACxU,MAAM,aAAa,wBAAwB,uBAAuB,uBAAuB,sBAAsB,kBAAkB,kBAAkB,wBAAwB,iBAAiB,sBAAsB,oBAAoB;IAEtO,qBACI,6LAAC;QAAK,MAAK;kBACP,cAAA,6LAAC;sBACG,cAAA,6LAAC,iJAAY;0BACT,cAAA,6LAAC,iJAAY;;wBACR,CAAC,4BAAc,6LAAC,0IAAM;;;;;sCACvB,6LAAC,kJAAc;;;;;sCACf,6LAAC,+IAAW;;;;;wBACX;wBACA,CAAC,4BAAc,6LAAC,0IAAM;;;;;;;;;;;;;;;;;;;;;;;;;;AAM/C;GAtCwB;;QACH,oJAAW;;;KADR"}}]
}