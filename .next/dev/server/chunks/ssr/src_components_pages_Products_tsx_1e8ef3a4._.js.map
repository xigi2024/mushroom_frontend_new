{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/mycomatrix/mushroom%20frontend/src/components/pages/Products.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState, useEffect } from 'react';\r\nimport { Container, Row, Col, Card, Button, Spinner, Alert } from 'react-bootstrap';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport '../styles/products.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faLink } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst Products = () => {\r\n  const navigate = useRouter();\r\n  const [categories, setCategories] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [loadedImages, setLoadedImages] = useState({});\r\n  const [error, setError] = useState(null);\r\n  const [imageLoadErrors, setImageLoadErrors] = useState({});\r\n  const contactHeroImage = \"/assets/contact.jpg\";\r\n\r\n\r\n  // Fetch categories from API\r\n  useEffect(() => {\r\n    const fetchCategories = async () => {\r\n      try {\r\n        const response = await fetch('https://mycomatrix.in/api/category/');\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch categories');\r\n        }\r\n        const data = await response.json();\r\n        setCategories(data);\r\n      } catch (err) {\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  const handleViewProduct = (categoryId) => {\r\n    navigate.push(`/products/${categoryId}`);\r\n  };\r\n\r\n  const handleImageError = (categoryId) => {\r\n    setImageLoadErrors(prev => ({\r\n      ...prev,\r\n      [categoryId]: true\r\n    }));\r\n  };\r\n\r\n  const getImageSrc = (category) => {\r\n    if (imageLoadErrors[category.id]) {\r\n      return 'https://via.placeholder.com/300x200/28a745/ffffff?text=Mushroom+Category';\r\n    }\r\n\r\n    if (category.image && category.image.startsWith('http')) {\r\n      return category.image;\r\n    }\r\n\r\n    if (category.image) {\r\n      const baseUrl = 'https://mycomatrix.in';\r\n      const imagePath = category.image.startsWith('/') ? category.image : `/${category.image}`;\r\n      return `${baseUrl}${imagePath}`;\r\n    }\r\n\r\n    return 'https://via.placeholder.com/300x200/28a745/ffffff?text=Mushroom+Category';\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"products-container\">\r\n        <div className=\"d-flex justify-content-center align-items-center\" style={{ height: '50vh' }}>\r\n          <Spinner animation=\"border\" role=\"status\" variant=\"success\">\r\n            <span className=\"visually-hidden\">Loading...</span>\r\n          </Spinner>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"products-container\">\r\n        <Container className=\"my-5\">\r\n          <Alert variant=\"danger\" className=\"text-center\">\r\n            <Alert.Heading>Error Loading Products</Alert.Heading>\r\n            <p>{error}</p>\r\n            <Button variant=\"outline-danger\" onClick={() => window.location.reload()}>\r\n              Try Again\r\n            </Button>\r\n          </Alert>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"products-container\">\r\n      {/* Hero Section */}\r\n      <div\r\n        className=\"hero-section\"\r\n        style={{\r\n          background: `linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(${contactHeroImage})`,\r\n          backgroundSize: 'cover',\r\n          backgroundPosition: 'center',\r\n          color: 'white',\r\n          padding: '100px 0',\r\n          textAlign: 'center'\r\n        }}\r\n      >\r\n        <div className=\"container\">\r\n          <h1 className=\"hero-title\">Our Products</h1>\r\n          <p className=\"hero-subtitle text-white\">\r\n            Discover our premium mushroom growing solutions - from beginner kits to advanced IoT systems.\r\n          </p>\r\n        </div>\r\n      </div>\r\n      {/* Products Section */}\r\n      <section className=\"products-section\">\r\n        <Container>\r\n          <nav aria-label=\"breadcrumb\">\r\n            <ol className=\"breadcrumb mb-4\">\r\n              <li className=\"breadcrumb-item\">\r\n                <a href=\"/\" className=\"text-decoration-none fw-bold color\">\r\n                  Home\r\n                </a>\r\n              </li>\r\n              <li className=\"breadcrumb-item active fw-bold text-decoration-none color\" aria-current=\"page\">\r\n                Products\r\n              </li>\r\n            </ol>\r\n          </nav>\r\n\r\n\r\n          <h2 className=\"section-title text-center fw-bold mb-5\">Our Mushroom Growing Solutions</h2>\r\n\r\n          {categories.length > 0 ? (\r\n            <Row className=\"g-4\">\r\n              {categories.map((category) => (\r\n                <Col key={category.id} xs={12} sm={6} md={6} lg={4} xl={3}>            <Card\r\n                  className=\"category-card h-100 border-0 shadow-sm\"\r\n                  style={{ cursor: 'pointer' }}\r\n                  onClick={() => handleViewProduct(category.id)}\r\n                >\r\n                  <div className=\"card-image-containers position-relative\">\r\n                    {!imageLoadErrors[category.id] && !loadedImages[category.id] && (\r\n                      <div\r\n                        className=\"image-loading-placeholder position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center bg-light\"\r\n                        style={{ minHeight: '200px', zIndex: 1 }}\r\n                      >\r\n                        <Spinner animation=\"border\" size=\"sm\" variant=\"success\" />\r\n                      </div>\r\n                    )}\r\n\r\n                    <Card.Img\r\n                      variant=\"top\"\r\n                      src={getImageSrc(category)}\r\n                      alt={category.name}\r\n                      className=\"category-image\"\r\n                      onLoad={(e) => {\r\n                        setLoadedImages((prev) => ({\r\n                          ...prev,\r\n                          [category.id]: true\r\n                        }));\r\n                        (e.target as HTMLImageElement).style.opacity = '1';\r\n                      }}\r\n                      onError={() => handleImageError(category.id)}\r\n                      data-category-id={category.id}\r\n                      style={{\r\n                        width: '100%',\r\n                        height: '250px',\r\n                        objectFit: 'cover',\r\n                        borderTopLeftRadius: '10px',\r\n                        borderTopRightRadius: '10px',\r\n                        opacity: loadedImages[category.id] ? 1 : 0,\r\n                        transition: 'opacity 0.5s ease'\r\n                      }}\r\n                    />\r\n                  </div>\r\n\r\n                  {/* Content Section - Updated structure */}\r\n                  <Card.Body className=\"d-flex flex-column p-3 \">\r\n                    {/* Title */}\r\n                    <Card.Title className=\"h4 fw-semibold mb-3 card-title h5\" >\r\n                      {category.name}\r\n                    </Card.Title>\r\n\r\n                    {/* Description */}\r\n                    {category.description && (\r\n                      <Card.Text className=\"para  flex-fill mb-3\" >\r\n                        {category.description}\r\n                      </Card.Text>\r\n                    )}\r\n\r\n                    {/* Learn More button with icon */}\r\n                    <div\r\n                      className=\"d-flex align-items-center text-primary font-medium hover-text-primary transition-colors duration-200\"\r\n                      onClick={(e) => e.stopPropagation()}\r\n                    >\r\n                      <FontAwesomeIcon\r\n                        icon={faLink}\r\n                        className=\"me-2 p-2 rounded link-icon bg-opacity-15 color\"\r\n                        style={{ fontSize: '12px', width: '16px', height: '16px' }}\r\n                      />\r\n                      <span\r\n                        className=\"fs-6 fw-semibold color\"\r\n                        style={{ fontFamily: 'Poppins, sans-serif' }}\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          handleViewProduct(category.id);\r\n                        }}\r\n                      >\r\n                        Learn More\r\n                      </span>\r\n                    </div>\r\n                  </Card.Body>\r\n                </Card>\r\n                </Col>\r\n              ))}\r\n            </Row>\r\n          ) : (\r\n            <div className=\"text-center py-5\">\r\n              <h4 className=\"text-muted\">No categories available</h4>\r\n              <p className=\"text-muted\">Please check back later for our product offerings.</p>\r\n            </div>\r\n          )}\r\n        </Container>\r\n      </section>\r\n\r\n\r\n      {/* middle cta section */}\r\n      <Container className=\"my-5 py-5\" style={{ backgroundColor: '#f1fff0' }}>\r\n        <Row className=\"align-items-center text-center text-md-start\">\r\n          {/* ✅ Text + Button Section */}\r\n          <Col className=\"mb-4 mb-md-0 text-center\">\r\n            <img src=\"/assets/leaf.png\" className=\"leaf mb-3 object-fit-cover\" alt=\"Leaf icon\" style={{ width: \"60px\", height: \"60px\" }} />\r\n            <h2 style={{ fontWeight: 'bold', color: '#006400' }}>\r\n              Grow with Confidence\r\n            </h2>\r\n            <p className='mx-auto describes'>Discover our best-selling mushroom grow kits — easy to use, beginner-friendly, and 100% organic. Start your home cultivation journey today! Experience the joy of harvesting fresh mushrooms right from your kitchen.</p>\r\n            <Link href=\"/contact\" className=\"button mt-3 btn btn-primary\">\r\n              We're Here to Help\r\n            </Link>\r\n          </Col>\r\n\r\n\r\n        </Row>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n"],"names":[],"mappings":"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"}}]
}