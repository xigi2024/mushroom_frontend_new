{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/mycomatrix/mushroom%20frontend/src/components/Sidebar.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useRouter, usePathname } from 'next/navigation';\r\nimport { FiHome, FiMonitor, FiPackage, FiUser, FiSettings, FiCreditCard, FiLogOut, FiMenu, FiX } from 'react-icons/fi';\r\nimport './styles/sidebar.css';\r\nimport Link from 'next/link';\r\n\r\n\r\nconst Sidebar = ({ activeSection, setActiveSection }) => {\r\n  const [userRole, setUserRole] = useState(\"user\");\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const [user, setUser] = useState(null);\r\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const userData = localStorage.getItem('user');\r\n    if (userData) {\r\n      setUser(JSON.parse(userData));\r\n      setUserRole(JSON.parse(userData)?.role?.toLowerCase() || \"user\");\r\n    }\r\n  }, []);\r\n\r\n  const adminSidebarItems = [\r\n    { id: 'dashboard', icon: FiHome, label: 'Admin Dashboard', path: '/admin-dashboard' },\r\n    { id: 'iot-monitoring', icon: FiMonitor, label: 'IoT Monitoring', path: '/admin/iot-monitoring' },\r\n    { id: 'products', icon: FiPackage, label: 'Products Order', path: '/admin/product-order' },\r\n    { id: 'accounts', icon: FiUser, label: 'Accounts', path: '/accounts' },\r\n    //{ id: 'settings', icon: FiSettings, label: 'Settings', path: '/settings' },\r\n    { id: 'payment', icon: FiCreditCard, label: 'Payment History', path: '/payment-history' }\r\n  ];\r\n\r\n  const userSidebarItems = [\r\n    { id: 'dashboard', icon: FiHome, label: 'User Dashboard', path: '/user-dashboard' },\r\n    { id: 'iot-monitoring', icon: FiMonitor, label: 'IoT Monitoring', path: '/user/iot-monitoring' },\r\n    { id: 'products', icon: FiPackage, label: 'Products Order', path: '/user/product-order' },\r\n    { id: 'profile', icon: FiUser, label: 'My Profile', path: '/profile' },\r\n    { id: 'payment', icon: FiCreditCard, label: 'My Payments', path: '/user-payments' }\r\n  ];\r\n\r\n  const sidebarItems = userRole === 'admin' ? adminSidebarItems : userSidebarItems;\r\n\r\n  // Set active section based on current path\r\n  useEffect(() => {\r\n    const currentItem = sidebarItems.find(item => item.path === pathname);\r\n    if (currentItem) {\r\n      setActiveSection(currentItem.id);\r\n    }\r\n  }, [pathname, sidebarItems, setActiveSection]);\r\n\r\n  // Close mobile menu when route changes\r\n  useEffect(() => {\r\n    setIsMobileMenuOpen(false);\r\n  }, [pathname]);\r\n\r\n  // Prevent body scroll when mobile menu is open\r\n  useEffect(() => {\r\n    if (isMobileMenuOpen) {\r\n      document.body.classList.add('mobile-menu-open');\r\n    } else {\r\n      document.body.classList.remove('mobile-menu-open');\r\n    }\r\n    return () => {\r\n      document.body.classList.remove('mobile-menu-open');\r\n    };\r\n  }, [isMobileMenuOpen]);\r\n\r\n  const handleNavigation = (item) => {\r\n    if (item.path) {\r\n      router.push(item.path);\r\n      setActiveSection(item.id);\r\n      setIsMobileMenuOpen(false);\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('access_token');\r\n    localStorage.removeItem('refresh_token');\r\n    localStorage.removeItem('user');\r\n    localStorage.removeItem('userRole');\r\n\r\n    // optional: remove guest cart\r\n    localStorage.removeItem('guest_cart');\r\n\r\n    router.push('/login');\r\n    window.location.reload(); // Force UI reset\r\n  };\r\n\r\n\r\n  const getUserInitials = () => {\r\n    if (!user) return 'U';\r\n    const { first_name } = user;\r\n    if (first_name) {\r\n      return first_name.charAt(0).toUpperCase();\r\n    }\r\n    return 'U';\r\n  };\r\n\r\n  const getUserDisplayName = () => {\r\n    if (!user) return 'User';\r\n    const { first_name, last_name } = user;\r\n    if (first_name && last_name) {\r\n      return `${first_name} ${last_name}`;\r\n    } else if (first_name) {\r\n      return first_name;\r\n    } else if (last_name) {\r\n      return last_name;\r\n    }\r\n    return user.email || 'User';\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Topbar */}\r\n      <div className=\"topbar\">\r\n        <div className=\"topbar-content\">\r\n          {/* Hamburger Menu for Mobile */}\r\n          <button\r\n            className=\"mobile-menu-toggle\"\r\n            onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}\r\n            aria-label=\"Toggle menu\"\r\n          >\r\n            {isMobileMenuOpen ? <FiX size={24} /> : <FiMenu size={24} />}\r\n          </button>\r\n\r\n          <h2 className=\"dashboard-title\">\r\n            {userRole === 'admin' ? 'Admin Dashboard' : 'User Dashboard'}\r\n          </h2>\r\n\r\n          <div className=\"topbar-right\">\r\n            <span className=\"welcome-text\">Welcome, {getUserDisplayName()}</span>\r\n            <div className=\"user-avatar\">{getUserInitials()}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Mobile Overlay */}\r\n      {isMobileMenuOpen && (\r\n        <div\r\n          className=\"mobile-overlay\"\r\n          onClick={() => setIsMobileMenuOpen(false)}\r\n        />\r\n      )}\r\n\r\n      {/* Sidebar */}\r\n      <div className={`sidebar ${isMobileMenuOpen ? 'mobile-open' : ''}`}>\r\n        <div className=\"sidebar-header\">\r\n          <Link href=\"/\">\r\n            <img\r\n              src=\"/assets/logo2.png\"\r\n              alt=\"Logo\"\r\n              className=\"img-fluid sidebar-logo\"\r\n            />\r\n          </Link>\r\n        </div>\r\n\r\n        <div className=\"sidebar-menu\">\r\n          {sidebarItems.map(item => (\r\n            <div\r\n              key={item.id}\r\n              className={`sidebar-item ${activeSection === item.id ? 'active' : ''}`}\r\n              onClick={() => handleNavigation(item)}\r\n            >\r\n              <item.icon className=\"sidebar-icon\" />\r\n              <span>{item.label}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"sidebar-footer\">\r\n          <div className=\"sidebar-item logout-item\" onClick={handleLogout}>\r\n            <FiLogOut className=\"sidebar-icon\" />\r\n            <span>Logout</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 352, "column": 0}, "map": {"version":3,"sources":["file:///D:/mycomatrix/mushroom%20frontend/src/components/pages/AdminProductOrder.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Row, Col, Card, Table, Badge, Button, Form, InputGroup, Spinner, Alert } from 'react-bootstrap';\r\nimport { FiSearch, FiRefreshCw, FiUser } from 'react-icons/fi';\r\nimport Sidebar from '../Sidebar';\r\n\r\nconst AdminProductOrder = () => {\r\n  const [activeSection, setActiveSection] = useState('products');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [sortBy, setSortBy] = useState('newest');\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  // Fetch all orders (Admin only)\r\n  const fetchAllOrders = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n\r\n      const token = localStorage.getItem('access_token');\r\n      if (!token) {\r\n        setError('Please login to view orders');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      console.log('ðŸ” Admin fetching all orders...');\r\n      const response = await fetch('https://mycomatrix.in/api/orders/all-orders/', {\r\n        method: 'GET',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (response.status === 403) {\r\n        setError('Admin access required to view all orders');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch orders');\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log('ðŸ“¦ All orders response:', data);\r\n\r\n      if (data.success) {\r\n        setOrders(data.orders || []);\r\n      } else {\r\n        setError(data.error || 'Failed to load orders');\r\n      }\r\n\r\n    } catch (err) {\r\n      console.error('âŒ Error fetching all orders:', err);\r\n      setError(err.message || 'Failed to load orders');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchAllOrders();\r\n  }, []);\r\n\r\n  // Format order data for display\r\n  // Format order data for display - FIXED VERSION\r\n  const formatOrdersForDisplay = () => {\r\n    if (!Array.isArray(orders)) return [];\r\n\r\n    return orders.flatMap(order => {\r\n      // Handle orders with no items\r\n      if (!order.items || order.items.length === 0) {\r\n        return [{\r\n          id: order.id,\r\n          order_id: `ORD-${String(order.id).padStart(3, '0')}`,\r\n          customer: order.user_details?.name || 'Customer',\r\n          customer_email: order.user_details?.email || 'N/A',\r\n          product: 'No items in order', // Placeholder\r\n          quantity: 0,\r\n          amount: 0,\r\n          total_order_amount: parseFloat(order.total_amount || 0),\r\n          status: order.status || 'pending',\r\n          payment_status: order.payment_status || 'unpaid',\r\n          date: new Date(order.created_at).toLocaleDateString('en-IN'),\r\n          item_details: null,\r\n          has_empty_items: true\r\n        }];\r\n      }\r\n\r\n      // Normal orders with items\r\n      return order.items.map(item => ({\r\n        id: order.id,\r\n        order_id: `ORD-${String(order.id).padStart(3, '0')}`,\r\n        customer: order.user_details?.name || 'Customer',\r\n        customer_email: order.user_details?.email || 'N/A',\r\n        product: item.product?.name || 'Product',\r\n        quantity: item.qty || 1,\r\n        amount: parseFloat(item.price || 0) * (item.qty || 1),\r\n        total_order_amount: parseFloat(order.total_amount || 0),\r\n        status: order.status || 'pending',\r\n        payment_status: order.payment_status || 'unpaid',\r\n        date: new Date(order.created_at).toLocaleDateString('en-IN'),\r\n        item_details: item\r\n      }));\r\n    });\r\n  };\r\n  const displayOrders = formatOrdersForDisplay();\r\n\r\n  const getStatusBadge = (status) => {\r\n    const statusConfig = {\r\n      delivered: { variant: 'success', text: 'Delivered' },\r\n      completed: { variant: 'success', text: 'Completed' },\r\n      processing: { variant: 'warning', text: 'Processing' },\r\n      shipped: { variant: 'info', text: 'Shipped' },\r\n      pending: { variant: 'secondary', text: 'Pending' },\r\n      cancelled: { variant: 'danger', text: 'Cancelled' }\r\n    };\r\n    return statusConfig[status] || { variant: 'secondary', text: status };\r\n  };\r\n\r\n  const getPaymentStatusBadge = (paymentStatus) => {\r\n    const statusConfig = {\r\n      paid: { variant: 'success', text: 'Paid' },\r\n      unpaid: { variant: 'warning', text: 'Unpaid' },\r\n      failed: { variant: 'danger', text: 'Failed' },\r\n      refunded: { variant: 'info', text: 'Refunded' }\r\n    };\r\n    return statusConfig[paymentStatus] || { variant: 'secondary', text: paymentStatus };\r\n  };\r\n\r\n  const filteredOrders = displayOrders.filter(order =>\r\n    order.customer.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    order.customer_email.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    order.product.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    order.order_id.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    order.status.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  // Calculate statistics\r\n  const totalOrders = orders.length;\r\n  const totalRevenue = orders.reduce((sum, order) => sum + parseFloat(order.total_amount || 0), 0);\r\n  const completedOrders = orders.filter(order => order.status === 'completed' || order.status === 'delivered').length;\r\n  const pendingOrders = orders.filter(order => order.status === 'pending').length;\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"dashboard-container\">\r\n        <Sidebar activeSection={activeSection} setActiveSection={setActiveSection} />\r\n        <div className=\"main-content\">\r\n          <div className=\"dashboard-content\">\r\n            <div className=\"text-center py-5\">\r\n              <Spinner animation=\"border\" variant=\"primary\" />\r\n              <p className=\"mt-2\">Loading all orders...</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"dashboard-container\">\r\n      <Sidebar activeSection={activeSection} setActiveSection={setActiveSection} />\r\n\r\n      <div className=\"main-content\">\r\n        <div className=\"dashboard-content\">\r\n          <div className='mb-4'>\r\n            <div className=\"d-flex justify-content-between align-items-center\">\r\n              <div>\r\n                <h2 className=\"mb-1\">All Orders</h2>\r\n                <p className=\"text-muted mb-0\">Manage and view all customer orders</p>\r\n              </div>\r\n              <Button\r\n                variant=\"outline-primary\"\r\n                onClick={fetchAllOrders}\r\n                disabled={loading}\r\n              >\r\n                <FiRefreshCw className={loading ? 'spinner' : ''} /> Refresh\r\n              </Button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Admin Statistics */}\r\n          <Row className=\"mb-4\">\r\n            <Col md={3}>\r\n              <Card className=\"border-0 shadow-sm\">\r\n                <Card.Body className=\"text-center py-4\">\r\n                  <div className=\"text-primary mb-3\">\r\n                    <FiUser size={32} />\r\n                  </div>\r\n                  <div className=\"h3 text-primary mb-0\">{totalOrders}</div>\r\n                  <div className=\"text-muted\">Total Orders</div>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n            <Col md={3}>\r\n              <Card className=\"border-0 shadow-sm\">\r\n                <Card.Body className=\"text-center py-4\">\r\n                  <div className=\"text-success mb-3\">\r\n                    <FiUser size={32} />\r\n                  </div>\r\n                  <div className=\"h3 text-success mb-0\">â‚¹{totalRevenue.toLocaleString()}</div>\r\n                  <div className=\"text-muted\">Total Revenue</div>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n            <Col md={3}>\r\n              <Card className=\"border-0 shadow-sm\">\r\n                <Card.Body className=\"text-center py-4\">\r\n                  <div className=\"text-info mb-3\">\r\n                    <FiUser size={32} />\r\n                  </div>\r\n                  <div className=\"h3 text-info mb-0\">{completedOrders}</div>\r\n                  <div className=\"text-muted\">Completed</div>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n            <Col md={3}>\r\n              <Card className=\"border-0 shadow-sm\">\r\n                <Card.Body className=\"text-center py-4\">\r\n                  <div className=\"text-warning mb-3\">\r\n                    <FiUser size={32} />\r\n                  </div>\r\n                  <div className=\"h3 text-warning mb-0\">{pendingOrders}</div>\r\n                  <div className=\"text-muted\">Pending</div>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n\r\n          {error && (\r\n            <Alert variant=\"danger\" className=\"mb-4\">\r\n              {error}\r\n            </Alert>\r\n          )}\r\n\r\n          {orders.length === 0 && !error && !loading && (\r\n            <Alert variant=\"info\" className=\"mb-4\">\r\n              <strong>No orders found!</strong> No customer orders have been placed yet.\r\n            </Alert>\r\n          )}\r\n\r\n          {orders.length > 0 && (\r\n            <Card className=\"border-0 shadow-sm\">\r\n              <Card.Header className=\"bg-white border-bottom d-flex justify-content-between align-items-center\">\r\n                <h6 className=\"mb-0\">\r\n                  All Customer Orders ({filteredOrders.length} items)\r\n                </h6>\r\n                <div className=\"d-flex gap-2\">\r\n                  <InputGroup style={{ width: '300px' }}>\r\n                    <InputGroup.Text>\r\n                      <FiSearch />\r\n                    </InputGroup.Text>\r\n                    <Form.Control\r\n                      placeholder=\"Search orders by customer, product, status...\"\r\n                      value={searchTerm}\r\n                      onChange={(e) => setSearchTerm(e.target.value)}\r\n                    />\r\n                  </InputGroup>\r\n                  <Form.Select\r\n                    value={sortBy}\r\n                    onChange={(e) => setSortBy(e.target.value)}\r\n                    style={{ width: '150px' }}\r\n                  >\r\n                    <option value=\"newest\">Newest</option>\r\n                    <option value=\"oldest\">Oldest</option>\r\n                    <option value=\"amount\">Amount</option>\r\n                    <option value=\"customer\">Customer</option>\r\n                  </Form.Select>\r\n                </div>\r\n              </Card.Header>\r\n              <Card.Body className=\"p-0\">\r\n                <Table responsive className=\"mb-0\">\r\n                  <thead className=\"bg-light\">\r\n                    <tr>\r\n                      <th className=\"border-0 py-3\">Order ID</th>\r\n                      <th className=\"border-0 py-3\">Customer</th>\r\n                      <th className=\"border-0 py-3\">Product</th>\r\n                      <th className=\"border-0 py-3\">Qty</th>\r\n                      <th className=\"border-0 py-3\">Amount</th>\r\n                      <th className=\"border-0 py-3\">Status</th>\r\n                      <th className=\"border-0 py-3\">Payment</th>\r\n                      <th className=\"border-0 py-3\">Date</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {filteredOrders.map((order, index) => (\r\n                      <tr key={`${order.id}-${index}`}>\r\n                        <td className=\"py-3\">\r\n                          <strong>{order.order_id}</strong>\r\n                        </td>\r\n                        <td className=\"py-3\">\r\n                          <div>\r\n                            <div className=\"fw-semibold\">{order.customer}</div>\r\n                            <small className=\"text-muted\">\r\n                              {order.customer_email}\r\n                            </small>\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"py-3\">\r\n                          <div>\r\n                            <div className=\"fw-semibold\">{order.product}</div>\r\n                            <small className=\"text-muted\">\r\n                              Total: â‚¹{order.total_order_amount}\r\n                            </small>\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"py-3\">{order.quantity}</td>\r\n                        <td className=\"py-3\">â‚¹{order.amount.toFixed(2)}</td>\r\n                        <td className=\"py-3\">\r\n                          <Badge bg={getStatusBadge(order.status).variant} className=\"px-3 py-2\">\r\n                            {getStatusBadge(order.status).text}\r\n                          </Badge>\r\n                        </td>\r\n                        <td className=\"py-3\">\r\n                          <Badge bg={getPaymentStatusBadge(order.payment_status).variant} className=\"px-3 py-2\">\r\n                            {getPaymentStatusBadge(order.payment_status).text}\r\n                          </Badge>\r\n                        </td>\r\n                        <td className=\"py-3\">{order.date}</td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </Table>\r\n              </Card.Body>\r\n            </Card>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminProductOrder;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1302, "column": 0}, "map": {"version":3,"sources":["file:///D:/mycomatrix/mushroom%20frontend/src/components/Layout.tsx"],"sourcesContent":["\"use client\";\r\nimport React from 'react';\r\nimport Sidebar from './Sidebar';\r\n\r\nconst Layout = ({ children, activeSection, setActiveSection, userRole }) => {\r\n  return (\r\n    <div className=\"dashboard-container\">\r\n      <Sidebar activeSection={activeSection} setActiveSection={setActiveSection} userRole={userRole} />\r\n      <div className=\"main-content\">\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIA,MAAM,SAAS,CAAC,EAAE,QAAQ,EAAE,aAAa,EAAE,gBAAgB,EAAE,QAAQ,EAAE;IACrE,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,wIAAO;gBAAC,eAAe;gBAAe,kBAAkB;gBAAkB,UAAU;;;;;;0BACrF,8OAAC;gBAAI,WAAU;0BACZ;;;;;;;;;;;;AAIT;uCAEe"}},
    {"offset": {"line": 1344, "column": 0}, "map": {"version":3,"sources":["file:///D:/mycomatrix/mushroom%20frontend/src/components/ProtectedRoute.tsx"],"sourcesContent":["\"use client\";\r\n// src/components/ProtectedRoute.js\r\nimport React, { useEffect } from 'react';\r\nimport { useRouter, usePathname } from 'next/navigation';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nconst ProtectedRoute = ({ children }) => {\r\n  const { isAuthenticated, loading, user } = useAuth();\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n\r\n  useEffect(() => {\r\n    console.log('ProtectedRoute - Auth state:', {\r\n      isAuthenticated,\r\n      loading,\r\n      hasToken: typeof window !== 'undefined' ? !!localStorage.getItem('access_token') : false,\r\n      user: user ? 'User exists' : 'No user',\r\n      timestamp: new Date().toISOString()\r\n    });\r\n  }, [isAuthenticated, loading, user]);\r\n\r\n  useEffect(() => {\r\n    if (!loading && !isAuthenticated) {\r\n      console.log('ProtectedRoute - Not authenticated, redirecting to login');\r\n      if (pathname !== '/login') {\r\n        localStorage.setItem('redirectAfterLogin', pathname);\r\n      }\r\n      router.push('/login');\r\n    }\r\n  }, [loading, isAuthenticated, pathname, router]);\r\n\r\n  if (loading) {\r\n    console.log('ProtectedRoute - Loading authentication state...');\r\n    return <div className=\"d-flex justify-content-center align-items-center vh-100\">\r\n      <div className=\"spinner-border text-primary\" role=\"status\">\r\n        <span className=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n    </div>;\r\n  }\r\n\r\n  if (!isAuthenticated) {\r\n    return null; // Don't render anything while redirecting\r\n  }\r\n\r\n  console.log('ProtectedRoute - User authenticated, rendering children');\r\n  return children;\r\n};\r\n\r\nexport default ProtectedRoute;\r\n"],"names":[],"mappings":";;;;;AACA,mCAAmC;AACnC;AACA;AACA;AAJA;;;;;AAMA,MAAM,iBAAiB,CAAC,EAAE,QAAQ,EAAE;IAClC,MAAM,EAAE,eAAe,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,IAAA,yIAAO;IAClD,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,WAAW,IAAA,iJAAW;IAE5B,IAAA,kNAAS,EAAC;QACR,QAAQ,GAAG,CAAC,gCAAgC;YAC1C;YACA;YACA,UAAU,sCAAgC,0BAAyC;YACnF,MAAM,OAAO,gBAAgB;YAC7B,WAAW,IAAI,OAAO,WAAW;QACnC;IACF,GAAG;QAAC;QAAiB;QAAS;KAAK;IAEnC,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,WAAW,CAAC,iBAAiB;YAChC,QAAQ,GAAG,CAAC;YACZ,IAAI,aAAa,UAAU;gBACzB,aAAa,OAAO,CAAC,sBAAsB;YAC7C;YACA,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAS;QAAiB;QAAU;KAAO;IAE/C,IAAI,SAAS;QACX,QAAQ,GAAG,CAAC;QACZ,qBAAO,8OAAC;YAAI,WAAU;sBACpB,cAAA,8OAAC;gBAAI,WAAU;gBAA8B,MAAK;0BAChD,cAAA,8OAAC;oBAAK,WAAU;8BAAkB;;;;;;;;;;;;;;;;IAGxC;IAEA,IAAI,CAAC,iBAAiB;QACpB,OAAO,MAAM,0CAA0C;IACzD;IAEA,QAAQ,GAAG,CAAC;IACZ,OAAO;AACT;uCAEe"}},
    {"offset": {"line": 1426, "column": 0}, "map": {"version":3,"sources":["file:///D:/mycomatrix/mushroom%20frontend/src/app/admin/product-order/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport AdminProductOrder from '../../../components/pages/AdminProductOrder';\r\nimport Layout from '../../../components/Layout';\r\nimport ProtectedRoute from '../../../components/ProtectedRoute';\r\nimport { useAuth } from '../../../context/AuthContext';\r\n\r\nexport default function AdminProductOrderPage() {\r\n    const { user, isAuthenticated, loading } = useAuth();\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        if (!loading && isAuthenticated && user) {\r\n            // Check if user is admin\r\n            const userRole = user.role?.toLowerCase();\r\n            if (userRole !== 'admin') {\r\n                // Redirect non-admin users to their dashboard\r\n                router.push('/user-dashboard');\r\n            }\r\n        }\r\n    }, [user, isAuthenticated, loading, router]);\r\n\r\n    // Show loading while checking auth\r\n    if (loading) {\r\n        return (\r\n            <div className=\"d-flex justify-content-center align-items-center vh-100\">\r\n                <div className=\"spinner-border text-primary\" role=\"status\">\r\n                    <span className=\"visually-hidden\">Loading...</span>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Check if user is admin (after loading and authentication check)\r\n    if (isAuthenticated && user) {\r\n        const userRole = user.role?.toLowerCase();\r\n        if (userRole !== 'admin') {\r\n            return (\r\n                <div className=\"d-flex justify-content-center align-items-center vh-100\">\r\n                    <div className=\"text-center\">\r\n                        <h3>Access Denied</h3>\r\n                        <p className=\"text-muted\">You need admin privileges to access this page.</p>\r\n                        <button \r\n                            className=\"btn btn-primary mt-3\"\r\n                            onClick={() => router.push('/user-dashboard')}\r\n                        >\r\n                            Go to Dashboard\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    // Only render for authenticated admin users\r\n    return (\r\n        <ProtectedRoute>\r\n            <Layout activeSection=\"products\" setActiveSection={() => { }} userRole=\"admin\">\r\n                <AdminProductOrder />\r\n            </Layout>\r\n        </ProtectedRoute>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AANA;;;;;;;;AAQe,SAAS;IACpB,MAAM,EAAE,IAAI,EAAE,eAAe,EAAE,OAAO,EAAE,GAAG,IAAA,yIAAO;IAClD,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACN,IAAI,CAAC,WAAW,mBAAmB,MAAM;YACrC,yBAAyB;YACzB,MAAM,WAAW,KAAK,IAAI,EAAE;YAC5B,IAAI,aAAa,SAAS;gBACtB,8CAA8C;gBAC9C,OAAO,IAAI,CAAC;YAChB;QACJ;IACJ,GAAG;QAAC;QAAM;QAAiB;QAAS;KAAO;IAE3C,mCAAmC;IACnC,IAAI,SAAS;QACT,qBACI,8OAAC;YAAI,WAAU;sBACX,cAAA,8OAAC;gBAAI,WAAU;gBAA8B,MAAK;0BAC9C,cAAA,8OAAC;oBAAK,WAAU;8BAAkB;;;;;;;;;;;;;;;;IAIlD;IAEA,kEAAkE;IAClE,IAAI,mBAAmB,MAAM;QACzB,MAAM,WAAW,KAAK,IAAI,EAAE;QAC5B,IAAI,aAAa,SAAS;YACtB,qBACI,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;sCAAG;;;;;;sCACJ,8OAAC;4BAAE,WAAU;sCAAa;;;;;;sCAC1B,8OAAC;4BACG,WAAU;4BACV,SAAS,IAAM,OAAO,IAAI,CAAC;sCAC9B;;;;;;;;;;;;;;;;;QAMjB;IACJ;IAEA,4CAA4C;IAC5C,qBACI,8OAAC,+IAAc;kBACX,cAAA,8OAAC,uIAAM;YAAC,eAAc;YAAW,kBAAkB,KAAQ;YAAG,UAAS;sBACnE,cAAA,8OAAC,2JAAiB;;;;;;;;;;;;;;;AAIlC"}}]
}